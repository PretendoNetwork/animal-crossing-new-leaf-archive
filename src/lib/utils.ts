import { type ClassValue, clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

// * Maps a towns country ID to a flag name from https://flagicons.lipis.dev
// TODO - THIS IS BASED ON https://nintendo-wiki.pretendo.network/docs/misc/region-ids AND IS LIKELY NOT 100% CORRECT
const COUNTRY_IDS_MAP: Record<number, string> = {
	1: 'jp',
	8: 'ai',
	9: 'ag',
	10: 'ar',
	11: 'aw',
	12: 'bs',
	13: 'bb',
	14: 'bz',
	15: 'bo',
	16: 'br',
	17: 'vg',
	18: 'ca',
	19: 'ky',
	20: 'cl',
	21: 'co',
	22: 'cr',
	23: 'dm',
	24: 'do',
	25: 'ec',
	26: 'sv',
	27: 'gf',
	28: 'gd',
	29: 'gp',
	30: 'gt',
	31: 'gy',
	32: 'ht',
	33: 'hn',
	34: 'jm',
	35: 'mq',
	36: 'mx',
	37: 'ms',
	38: 'an',
	39: 'ni',
	40: 'pa',
	41: 'py',
	42: 'pe',
	43: 'kn',
	44: 'lc',
	45: 'vc',
	46: 'sr',
	47: 'tt',
	48: 'tc',
	49: 'us',
	50: 'uy',
	51: 'vi',
	52: 've',
	64: 'al',
	65: 'au',
	66: 'at',
	67: 'be',
	68: 'ba',
	69: 'bw',
	70: 'bg',
	71: 'hr',
	72: 'cy',
	73: 'cz',
	74: 'dk',
	75: 'ee',
	76: 'fi',
	77: 'fr',
	78: 'de',
	79: 'gr',
	80: 'hu',
	81: 'is',
	82: 'ie',
	83: 'it',
	84: 'lv',
	85: 'ls',
	86: 'li',
	87: 'lt',
	88: 'lu',
	89: 'mk',
	90: 'mt',
	91: 'me',
	92: 'mz',
	93: 'na',
	94: 'nl',
	95: 'nz',
	96: 'no',
	97: 'pl',
	98: 'pt',
	99: 'ro',
	100: 'ru',
	101: 'rs',
	102: 'sk',
	103: 'si',
	104: 'za',
	105: 'es',
	106: 'sz',
	107: 'se',
	108: 'ch',
	109: 'tr',
	110: 'gb',
	111: 'zm',
	112: 'zw',
	113: 'az',
	114: 'mr',
	115: 'ml',
	116: 'ne',
	117: 'td',
	118: 'sd',
	119: 'er',
	120: 'dj',
	121: 'so',
	122: 'ad',
	123: 'gi',
	124: 'gg',
	125: 'im',
	126: 'je',
	127: 'mc',
	128: 'tw',
	136: 'kr',
	144: 'hk',
	145: 'mo',
	153: 'sg',
	156: 'my',
	160: 'cn',
	168: 'ae',
	174: 'sa',
	184: 'sm',
	185: 'va',
	186: 'bm',
};

export function cn(...inputs: ClassValue[]) {
	return twMerge(clsx(inputs));
}

export function countryIDToClassName(countryID: number): string {
	const flag = COUNTRY_IDS_MAP[countryID] || 'xx';

	return `fi fi-${flag}`;
}